{"ast":null,"code":"/**\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar strTranslate = require('../../lib').strTranslate; // in v2 (once log ranges are fixed),\n// we'll be able to p2r here for all axis types\n\n\nfunction p2r(ax, v) {\n  switch (ax.type) {\n    case 'log':\n      return ax.p2d(v);\n\n    case 'date':\n      return ax.p2r(v, 0, ax.calendar);\n\n    default:\n      return ax.p2r(v);\n  }\n}\n\nfunction r2p(ax, v) {\n  switch (ax.type) {\n    case 'log':\n      return ax.d2p(v);\n\n    case 'date':\n      return ax.r2p(v, 0, ax.calendar);\n\n    default:\n      return ax.r2p(v);\n  }\n}\n\nfunction axValue(ax) {\n  var index = ax._id.charAt(0) === 'y' ? 1 : 0;\n  return function (v) {\n    return p2r(ax, v[index]);\n  };\n}\n\nfunction getTransform(plotinfo) {\n  return strTranslate(plotinfo.xaxis._offset, plotinfo.yaxis._offset);\n}\n\nmodule.exports = {\n  p2r: p2r,\n  r2p: r2p,\n  axValue: axValue,\n  getTransform: getTransform\n};","map":null,"metadata":{},"sourceType":"script"}